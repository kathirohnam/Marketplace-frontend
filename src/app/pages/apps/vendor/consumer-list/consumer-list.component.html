<!-- src/app/pages/apps/consumer/consumer-list.component.html -->

<!-- Add and search consumers -->
<mat-card class="cardWithShadow">
  <mat-card-content>
    <div class="row justify-content-between gap-16">
      <div class="col-sm-4">
        <mat-form-field appearance="outline" class="hide-hint">
          <input
            matInput
            (keyup)="onKeyup($event)"
            placeholder="Search Consumers"
          />
          <mat-icon matSuffix
            ><ng-icon name="tablerSearch" class="icon-20"></ng-icon
          ></mat-icon>
        </mat-form-field>
      </div>
      <div class="col-sm-4 d-flex justify-content-end align-items-center">
        <button
          mat-flat-button
          class="button-all"
          (click)="navigateToConsumerForm()"
        >
          Add Consumer
        </button>
      </div>
    </div>
  </mat-card-content>
</mat-card>

<!-- Table -->
<mat-card class="cardWithShadow">
  <mat-card-content>
    <div class="table-responsive">
      <table mat-table [dataSource]="dataSource" class="w-100 f-w-500 no-wrap">
        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">
            Email
          </th>
          <td mat-cell *matCellDef="let e">{{ e.email }}</td>
        </ng-container>

        <ng-container matColumnDef="firstName">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">
            First Name
          </th>
          <td mat-cell *matCellDef="let e">{{ e.firstName }}</td>
        </ng-container>

        <ng-container matColumnDef="lastName">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">
            Last Name
          </th>
          <td mat-cell *matCellDef="let e">{{ e.lastName }}</td>
        </ng-container>

        <ng-container matColumnDef="phone">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">
            Phone
          </th>
          <td mat-cell *matCellDef="let e">{{ e.phoneNumber }}</td>
        </ng-container>

        <ng-container matColumnDef="role">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">Role</th>
          <td mat-cell *matCellDef="let e">{{ e.role }}</td>
        </ng-container>

        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef class="f-s-16 f-w-600">
            Action
          </th>
          <td mat-cell *matCellDef="let e" class="action-link">
            <a
              (click)="navigateToConsumerForm(e.id)"
              class="m-r-10 cursor-pointer"
            >
              <ng-icon name="tablerEdit" class="icon-18"></ng-icon>
            </a>
            <a (click)="deleteConsumer(e.id)" class="m-r-10 cursor-pointer">
              <ng-icon name="tablerTrash" class="icon-18"></ng-icon>
            </a>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        <!-- No Data Row -->
        <tr class="mat-row" *matNoDataRow>
          <td
            class="mat-cell p-24 text-center"
            [attr.colspan]="displayedColumns.length"
          >
            No Data found
          </td>
        </tr>
      </table>
    </div>
    <mat-paginator
      [pageSizeOptions]="[5, 10, 20]"
      showFirstLastButtons
    ></mat-paginator>
  </mat-card-content>
</mat-card>
